{
    "contents" : "load(\"C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/allposts.RData\")\nload('C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/allpostfans.RData')\n\nload(\"C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/delposts.RData\")\nload(\"C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/del_clus.RData\")\nload(\"C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/delclusalsort.RData\")\nload('C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/n.RData')\n\n\ndrop2 = function(tmp){\n  return(substr(tmp, start = 21, stop = nchar(tmp)))  \n}\n\npostid = colnames(allpostfans)\npostur = allposts$posturl\nsum(drop2(postid)==postur)\n\ncanid=c(rep(\"lepen\",n[1]),rep(\"joly\",n[2]),rep(\"bayrou\",n[3]),\n        rep(\"hollande\",n[4]),rep(\"melenchon\",n[5]),\n        rep(\"dupont\",n[6]),rep(\"sarkozy\",n[7]),rep(\"poutou\",n[8]))\n\ndelpost = data.frame(del_posts[,1], del_posts[,2], del_posts[,3], canid,postid,allposts$posttext,allposts$postdate)\ndelpost[,7]=as.vector(delpost[,7])\n\ncolnames(delpost)= c(\"cluster_order\",\"post_order\",\"post_order_within_cluster\",\"candidate\",\"posturl\",\"posttext\",\"postdate\")\n\ndelposto =  delpost[order(delpost[,1],delpost[,3]),]\n\ndel_clus\nwrite.csv(delposto, file = \"delposts.csv\",row.names=FALSE)\nplot(del_clus$average_leverage,xlab=\"cluster id\",ylab=\"average_leverage\")\nsave(delposto, file = \"C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/delposto.RData\")\n\n\n######################################################################################\n\nload(\"C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/delposto.RData\")\n\nalldates = delposto$postdate\nunidate = as.vector(sort(unique(alldates)))\nmdates = match(alldates,unidate)\n\nno = which(is.na(mdates))\nno\n\nload(\"C:/Users/Administrator/Dropbox/my project/frenchFacebook/data/allpostdatetrue.RData\")\n\nnclus=5;ndatec=51;timeB=matrix(0,ncol=ndatec,nrow=nclus)\ndateg=rep(0,ndatec+1);for (j in 1:ndatec) {dateg[j+1]=2*j}\nfor (i in 1:nclus)\n { \n  for (j in 1:ndatec)\n  {\n    ci=which(delposto[,1]==i)\n    xi=mdates[ci]\n    timeB[i,j]=sum((xi>dateg[j]) & (xi<dateg[j+1]))\n  }\n}\n\nB = cbind(rowSums(timeB[,1:18]),timeB[,19:51])\n\nB\n\nnr = c(\"cluster 1\",\"cluster 2\",\"cluster 3\",\"cluster 4\",\"cluster 5\")\nnc = c(\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\n       \"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\");\nnc[11]=\"3-20\";nc[27]=\"4-22\";nc[34]=\"5-06\"\nballoonPlot(B,TRUE,FALSE,\"time structure\",nc,nr,4,1)\n\nunidate[c((18:50)*2,102)]\nlength(unidate[c((18:50)*2,102)])\n\nunidate\n",
    "created" : 1430099312299.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1466465780",
    "id" : "93A02407",
    "lastKnownWriteTime" : 1429381684,
    "path" : "C:/Users/Administrator/Dropbox/my project/frenchFacebook/code/delstr_postsanlyss.R",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}